devtools::build_vignettes()
devtools::build_vignettes()
library(dembase)
?limits
library(demdata)
popn <- Counts(VAPopn)
limits(popn)
library(demdata)
library(devtools)
install_github("statisticsnz/demdata")
limits(popn)
plot(popn)
test_that("checkAndTidyWeights method for numeric works", {
checkAndTidyWeights <- dembase:::checkAndTidyWeights
target <- Values(array(1.0,
dim = c(2, 2),
dimnames = list(reg = c("a", "c"),
sex = c("f", "m"))))
ans.obtained <- checkAndTidyWeights(weights = 1,
target = target)
ans.expected <- as(target, "Counts")
expect_identical(ans.obtained, ans.expected)
target <- Values(array(1.0,
dim = c(2, 0),
dimnames = list(reg = c("a", "c"),
sex = character())))
ans.obtained <- checkAndTidyWeights(weights = 1L,
target = target)
ans.expected <- as(target, "Counts")
expect_identical(ans.obtained, ans.expected)
expect_error(checkAndTidyWeights(weights = c(1, 1),
target = target),
"'weights' invalid")
expect_error(checkAndTidyWeights(weights = 2,
target = target,
nameWeights = "exposure"),
"'exposure' invalid")
})
library(testthat)
test_that("checkAndTidyWeights method for numeric works", {
checkAndTidyWeights <- dembase:::checkAndTidyWeights
target <- Values(array(1.0,
dim = c(2, 2),
dimnames = list(reg = c("a", "c"),
sex = c("f", "m"))))
ans.obtained <- checkAndTidyWeights(weights = 1,
target = target)
ans.expected <- as(target, "Counts")
expect_identical(ans.obtained, ans.expected)
target <- Values(array(1.0,
dim = c(2, 0),
dimnames = list(reg = c("a", "c"),
sex = character())))
ans.obtained <- checkAndTidyWeights(weights = 1L,
target = target)
ans.expected <- as(target, "Counts")
expect_identical(ans.obtained, ans.expected)
expect_error(checkAndTidyWeights(weights = c(1, 1),
target = target),
"'weights' invalid")
expect_error(checkAndTidyWeights(weights = 2,
target = target,
nameWeights = "exposure"),
"'exposure' invalid")
})
setwd("~/Documents/dembase/tests/testthat")
setwd("~/Documents/dembase/tests/testthat")
test_file("test-numeric-methods.R")
test_file("test-numeric-methods.R")
devtools::check()
head(injuries)
injuries <- demdata::injuries
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
injuries <- demdata::nz.injuries
injuries <- demdata::nz.injuries
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
injuries <- demdata::nz.injuries
help(package= demdata)
